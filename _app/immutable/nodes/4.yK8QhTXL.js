import{a as c,t as M,c as K}from"../chunks/C0O1-Sh4.js";import{i as oa}from"../chunks/DTlQLPZZ.js";import{p as va,v as S,a as fa,w as a,c as d,r as o,s as k,f as P,x as L,t as j}from"../chunks/CX2U9xgD.js";import{d as ca,s as A}from"../chunks/y_bE-8p-.js";import{i as O}from"../chunks/DXOmHM4t.js";import{M as B,c as da,e as Q,R as U,g as ma,a as _a,s as n,i as W,T as pa,D as ua,b as ha,r as X,d as xa,f as ba,h as ya,j as Da,k as ka}from"../chunks/DmOeV3Jb.js";import{b as Ma}from"../chunks/D09RD3Bc.js";import{o as Ta}from"../chunks/C14VgKDD.js";var wa=M('<canvas class="svelte-3a5lfa"></canvas>'),Ea=M('<div class="bool svelte-3a5lfa"><label> </label> <input type="checkbox"></div>'),Ra=M('<div class="number svelte-3a5lfa"><label> </label> <input type="range" class="svelte-3a5lfa"> <span class="svelte-3a5lfa"> </span></div>'),Aa=M('<div class="radio svelte-3a5lfa"><input type="radio"> <label> </label></div>'),Ca=M('<div class="radio-label svelte-3a5lfa"> </div> <!>',1),Pa=M('<main class="svelte-3a5lfa"><div class="canvas-container svelte-3a5lfa"></div> <div class="controls svelte-3a5lfa"></div></main>');function za(aa,ea){va(ea,!1);let G=S(Array(24).fill(null).map(()=>({element:null}))),sa=B.autoSeed().next();const H=20,N=22,Y=1,Z=2,v=10,T=S(da());function la(t,e){t instanceof ua?t.map.data.forEach((r,l)=>r.forEach((s,f)=>{let _=0;typeof s=="number"?_=s:typeof s=="boolean"&&(_=s?1:0),e.fillStyle=`color-mix(in oklch, hsl(0, 50%, 50%) ${_*100}%, hsl(240, 50%, 50%))`,e.fillRect(l*v,f*v,v,v)})):t.data.forEach((r,l)=>r.forEach((s,f)=>{e.fillStyle=ha(s).primaryColor,e.fillRect(l*v,f*v,v,v)}))}function ra(t,e){let r=a(T).setting(t);r!==null&&(r.value=e),C()}function C(){let t=new U(B.seed(sa));for(const e of a(G)){let r=e.element,l=(r==null?void 0:r.getContext("2d"))??null;if(r!==null&&l!==null){let[s,f]=ma(H,N,Y,Z,new U(B.seed(t.uint32()))),_=_a(H,N,Y,Z,s,f,new U(B.seed(t.uint32())),a(T));la(_,l)}}}Ta(()=>{C()}),oa();var V=Pa(),$=d(V);Q($,5,()=>a(G),W,(t,e,r)=>{var l=wa();n(l,"width",H*v),n(l,"height",N*v),Ma(l,(s,f)=>(f.element=s,L(()=>a(G))),s=>s==null?void 0:s.element,()=>[a(e)]),c(t,l)}),o($);var g=k($,2);Q(g,5,()=>a(T).settings,W,(t,e,r)=>{var l=K(),s=P(l);{var f=p=>{var u=Ea(),h=d(u),q=d(h,!0);o(h);var x=k(h,2);X(x),x.__change=C,o(u),j(()=>{n(h,"for",a(e).id),A(q,a(e).name),n(x,"id",a(e).id)}),xa(x,()=>a(e).value,m=>(a(e).value=m,L(()=>a(T).settings))),c(p,u)},_=p=>{var u=K(),h=P(u);{var q=m=>{var b=Ra(),y=d(b),z=d(y,!0);o(y);var i=k(y,2);X(i),i.__change=C;var w=k(i,2),E=d(w,!0);o(w),o(b),j(()=>{n(y,"for",a(e).id),A(z,a(e).name),n(i,"id",a(e).id),n(i,"min",a(e).sliderMin),n(i,"max",a(e).sliderMax),n(i,"step",a(e).sliderStep),A(E,a(e).value)}),ya(i,()=>a(e).value,F=>(a(e).value=F,L(()=>a(T).settings))),c(m,b)},x=m=>{var b=K(),y=P(b);{var z=i=>{var w=Ca(),E=P(w),F=d(E,!0);o(E);var ta=k(E,2);Q(ta,1,()=>a(e).options,W,(ia,R)=>{var I=Aa(),D=d(I);X(D),D.__click=()=>ra(a(e).id,a(R).id);var J=k(D,2),na=d(J,!0);o(J),o(I),j(()=>{n(D,"id",a(e).id+"-"+a(R).id),n(D,"name",a(e).id),ka(D,a(R).id===a(e).value),n(J,"for",a(e).id+"-"+a(R).id),A(na,a(R).name)}),c(ia,I)}),j(()=>A(F,a(e).name)),c(i,w)};O(y,i=>{a(e)instanceof Da&&i(z)},!0)}c(m,b)};O(h,m=>{a(e)instanceof ba?m(q):m(x,!1)},!0)}c(p,u)};O(s,p=>{a(e)instanceof pa?p(f):p(_,!1)})}c(t,l)}),o(g),o(V),c(aa,V),fa()}ca(["change","click"]);export{za as component};
