import{a as c,t as D,c as K}from"../chunks/y5CY1pGd.js";import{i as te}from"../chunks/D6-RF0tt.js";import{p as ne,v as Z,a as oe,w as e,c as d,r as o,s as z,f as C,x as L,t as E}from"../chunks/DAIAyNcJ.js";import{d as ve,s as R}from"../chunks/pAR5L9hK.js";import{i as O}from"../chunks/D696uUBV.js";import{M as P,c as me,e as Q,R as U,g as fe,a as ce,s as n,i as W,T as de,D as _e,b as pe,r as X,d as he,f as ue,h as xe,j as je,k as be}from"../chunks/B-mBhE4h.js";import{b as ye}from"../chunks/B9jSvjPs.js";import{o as ze}from"../chunks/CqaQIg4r.js";var De=D('<canvas class="svelte-1ezhmjx"></canvas>'),Me=D('<div class="bool svelte-1ezhmjx"><label> </label> <input type="checkbox"></div>'),Te=D('<div class="number svelte-1ezhmjx"><label> </label> <input type="range" class="svelte-1ezhmjx"> <span class="svelte-1ezhmjx"> </span></div>'),ke=D('<div class="radio svelte-1ezhmjx"><input type="radio"> <label> </label></div>'),we=D('<div class="radio-label svelte-1ezhmjx"> </div> <!>',1),Re=D('<main class="svelte-1ezhmjx"><div class="canvas-container svelte-1ezhmjx"></div> <div class="controls svelte-1ezhmjx"></div></main>');function Ne(g,S){ne(S,!1);let $=Z(Array(24).fill(null).map(()=>({element:null}))),ee=P.autoSeed().next();const B=20,G=20,v=10,M=Z(me());function ae(i,a){i instanceof _e?i.map.forEach((r,l)=>r.forEach((s,m)=>{let f=0;typeof s=="number"?f=s:typeof s=="boolean"&&(f=s?1:-1),f<0?a.fillStyle=`hsl(0, 50%, ${-Math.min(1,-f)*50+100}%)`:a.fillStyle=`hsl(240, 50%, ${-Math.min(1,f)*50+100}%)`,a.fillRect(l*v,m*v,v,v)})):i.forEach((r,l)=>r.forEach((s,m)=>{a.fillStyle=pe(s).primaryColor,a.fillRect(l*v,m*v,v,v)}))}function se(i,a){let r=e(M).setting(i);r!==null&&(r.value=a),A()}function A(){let i=new U(P.seed(ee));for(const a of e($)){let r=a.element,l=(r==null?void 0:r.getContext("2d"))??null;if(r!==null&&l!==null){let[s,m]=fe(B,G,new U(P.seed(i.uint32()))),f=ce(B,G,s,m,new U(P.seed(i.uint32())),e(M));ae(f,l)}}}ze(()=>{A()}),te();var H=Re(),N=d(H);Q(N,5,()=>e($),W,(i,a,r)=>{var l=De();n(l,"width",B*v),n(l,"height",G*v),ye(l,(s,m)=>(m.element=s,L(()=>e($))),s=>s==null?void 0:s.element,()=>[e(a)]),c(i,l)}),o(N);var Y=z(N,2);Q(Y,5,()=>e(M).settings,W,(i,a,r)=>{var l=K(),s=C(l);{var m=p=>{var h=Me(),u=d(h),V=d(u,!0);o(u);var x=z(u,2);X(x),x.__change=A,o(h),E(()=>{n(u,"for",e(a).id),R(V,e(a).name),n(x,"id",e(a).id)}),he(x,()=>e(a).value,_=>(e(a).value=_,L(()=>e(M).settings))),c(p,h)},f=p=>{var h=K(),u=C(h);{var V=_=>{var j=Te(),b=d(j),q=d(b,!0);o(b);var t=z(b,2);X(t),t.__change=A;var T=z(t,2),k=d(T,!0);o(T),o(j),E(()=>{n(b,"for",e(a).id),R(q,e(a).name),n(t,"id",e(a).id),n(t,"min",e(a).sliderMin),n(t,"max",e(a).sliderMax),n(t,"step",e(a).sliderStep),R(k,e(a).value)}),xe(t,()=>e(a).value,F=>(e(a).value=F,L(()=>e(M).settings))),c(_,j)},x=_=>{var j=K(),b=C(j);{var q=t=>{var T=we(),k=C(T),F=d(k,!0);o(k);var le=z(k,2);Q(le,1,()=>e(a).options,W,(re,w)=>{var I=ke(),y=d(I);X(y),y.__click=()=>se(e(a).id,e(w).id);var J=z(y,2),ie=d(J,!0);o(J),o(I),E(()=>{n(y,"id",e(a).id+"-"+e(w).id),n(y,"name",e(a).id),be(y,e(w).id===e(a).value),n(J,"for",e(a).id+"-"+e(w).id),R(ie,e(w).name)}),c(re,I)}),E(()=>R(F,e(a).name)),c(t,T)};O(b,t=>{e(a)instanceof je&&t(q)},!0)}c(_,j)};O(u,_=>{e(a)instanceof ue?_(V):_(x,!1)},!0)}c(p,h)};O(s,p=>{e(a)instanceof de?p(m):p(f,!1)})}c(i,l)}),o(Y),o(H),c(g,H),oe()}ve(["change","click"]);export{Ne as component};
